- name: Install Microsfot linux signing key
  apt_key:
    url: https://packages.microsoft.com/keys/microsoft.asc
    id: BC528686B50D79E339D3721CEB3E94ADBE1229CF
    state: present

- name: Add Microsoft repo
  apt_repository:
    repo: "{{ item }}"
    filename: microsoft
    state: present
    update_cache: True
  with_items:
  - "deb [arch=amd64] https://packages.microsoft.com/repos/edge stable main"
  - "deb [arch=amd64] https://packages.microsoft.com/repos/code stable main"

- name: Install MS Edge and VS Code from repository
  apt:
    state: latest
    pkg: 
      - microsoft-edge-stable
      - code
